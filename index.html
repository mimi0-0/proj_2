<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¹ãƒãƒ¼ãƒˆãƒ‰ãƒ­ãƒ¼ãƒ³æ“ä½œã‚¢ãƒ—ãƒª</title>
    <link rel="stylesheet" href="main.css">
    
</head>
<body>
    <div class="container">
        <h1>ã‹ã‚“ãŸã‚“telloæ“ä½œâ™ª</h1>
        
        <div class="mode-selector">
            <label>
                <input type="radio" name="mode" value="manual" checked> æ‰‹å‹•æ“ä½œ
            </label>
            <label>
                <input type="radio" name="mode" value="voice"> éŸ³å£°æ“ä½œ
            </label>
            <label>
                <input type="radio" name="mode" value="text"> ãƒ†ã‚­ã‚¹ãƒˆæ“ä½œ
            </label>
        </div>
        
        <!-- æ‰‹å‹•æ“ä½œãƒ‘ãƒãƒ« -->
        <div class="control-panel" id="manualControls">
            <div class="directional-controls">
                <button class="control-button" id="upButton">â†‘Up</button>
                <div class="horizontal-controls">
                    <button class="control-button" id="leftButton">â† Left</button>
                    <button class="control-button" id="rightButton">Right â†’</button>
                </div>
                <button class="control-button" id="downButton">â†“Down</button>
            </div>
            <div class="action-controls">
                <button class="control-button" id="takeoffButton">é›¢é™¸</button>
                <button class="control-button" id="landButton">ç€é™¸</button>
                <button class="control-button" id="landButton">ãƒ•ãƒªãƒƒãƒ—</button>
            </div>
        </div>
        
        <!-- éŸ³å£°æ“ä½œãƒ‘ãƒãƒ« -->
        <div class="control-panel" id="voiceControls" style="display: none;">
            <button class="mic-button" id="micButton">ğŸ¤</button>
            <p>ãƒã‚¤ã‚¯ã‚’æŠ¼ã—ã¦éŸ³å£°ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</p>
        </div>

        <!-- ãƒ†ã‚­ã‚¹ãƒˆæ“ä½œãƒ‘ãƒãƒ« -->
        <div class="control-panel" id="textControls" style="display: none;">
            <div class="chat-container" id="chatContainer">
                <!-- å…¥åŠ›ã—ãŸãƒ†ã‚­ã‚¹ãƒˆãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
            </div>
            <input type="text" id="textCommand" placeholder="ãƒ†ã‚­ã‚¹ãƒˆã§ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›">
            <button class="control-button" id="sendTextButton">é€ä¿¡</button>
        </div>
        <div class="drone-status">
            <!-- ãƒ‰ãƒ­ãƒ¼ãƒ³æ˜ åƒã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ¨ªä¸¦ã³ã«ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒŠ -->
            <div class="status-wrapper">
                <!-- ã‚«ãƒ¡ãƒ©æ˜ åƒ -->
                <div class="image-container">
                    <h2></h2>
                    <img id="droneImage" src="" alt="Drone Camera" />
                </div>
        
                <!-- ãƒ‰ãƒ­ãƒ¼ãƒ³ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ -->
                <div class="status-container">
                    <h2></h2>
                    <ul>
                        <li><strong>ãƒãƒƒãƒ†ãƒªãƒ¼:</strong> <span id="batteryStatus">00%</span></li>
                        <li><strong>é£›è¡Œæ™‚é–“:</strong> <span id="flightTime">0:00</span></li>
                        <li><strong>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:</strong> <span id="droneStatus">True</span></li>
                    </ul>
                </div>
            </div>
        </div>
        
        
    </div>

    <script>
        // ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆã®å‡¦ç†
        const modeSelector = document.querySelectorAll('input[name="mode"]'); // ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ã®å–å¾—
        const manualControls = document.getElementById('manualControls');
        const voiceControls = document.getElementById('voiceControls');
        const textControls = document.getElementById('textControls');

        // ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ã®å¤‰æ›´ã«å¿œã˜ã¦è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã‚’åˆ‡ã‚Šæ›¿ãˆ
        modeSelector.forEach(mode => {
            mode.addEventListener('change', () => {
                if (mode.value === 'manual' && mode.checked) {
                    manualControls.style.display = 'block';
                    voiceControls.style.display = 'none';
                    textControls.style.display = 'none';
                } else if (mode.value === 'voice' && mode.checked) {
                    manualControls.style.display = 'none';
                    voiceControls.style.display = 'block';
                    textControls.style.display = 'none';
                } else if (mode.value === 'text' && mode.checked) {
                    manualControls.style.display = 'none';
                    voiceControls.style.display = 'none';
                    textControls.style.display = 'block';
                }
            });
        });

        // åˆæœŸçŠ¶æ…‹ã§ã€Œæ‰‹å‹•æ“ä½œã€ã‚’é¸æŠã—ã¦ã„ã‚‹ãŸã‚ã€æ‰‹å‹•æ“ä½œã®ãƒ‘ãƒãƒ«ã‚’è¡¨ç¤º
        document.querySelector('input[name="mode"][value="manual"]').checked = true;

        // ãƒ†ã‚­ã‚¹ãƒˆé€ä¿¡ãƒœã‚¿ãƒ³ã®å‡¦ç†
        document.getElementById('sendTextButton').addEventListener('click', () => {
            const textCommand = document.getElementById('textCommand').value;
            if (textCommand.trim()) {
                const chatContainer = document.getElementById('chatContainer');
                const newMessage = document.createElement('div');
                newMessage.classList.add('chat-message');
                newMessage.textContent = textCommand;

                // ãƒãƒ£ãƒƒãƒˆã‚¨ãƒªã‚¢ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿½åŠ 
                chatContainer.appendChild(newMessage);

                // å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ç©ºã«ã™ã‚‹
                document.getElementById('textCommand').value = '';
                chatContainer.scrollTop = chatContainer.scrollHeight; // ãƒãƒ£ãƒƒãƒˆã‚¨ãƒªã‚¢ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ä¸€ç•ªä¸‹ã«
            }
        });

        // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç”»åƒã‚’å®šæœŸçš„ã«æ›´æ–°
        function updateDroneImage() {
            const droneImage = document.getElementById('droneImage');
            const imageUrl = 'https://image1.shopserve.jp/it2-048.cc.shopserve.jp/pic-labo/llimg/test.png?t=20111019175557'; // ã“ã“ã«ãƒ‰ãƒ­ãƒ¼ãƒ³ã‚«ãƒ¡ãƒ©ã®URLã‚’è¨­å®š

            // ç”»åƒã®æ›´æ–°
            droneImage.src = imageUrl + '?' + new Date().getTime(); // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’é¿ã‘ã‚‹ãŸã‚ã€ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦è¿½åŠ 
        }

        // 5ç§’ã”ã¨ã«ç”»åƒã‚’æ›´æ–°
        setInterval(updateDroneImage, 5000);
    </script>
</body>
</html>

